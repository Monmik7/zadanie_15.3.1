<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Datepicker_pracaScasom</title>

    <style>  

        input{
            width: 520px;
            height: 40px;
        };
    </style>
</head>
<body>
     
        <h1>Textovy analyzator</h1>
        <p id="zobrazenie"></p>
                     
        <textarea cols="70" rows="10" id="textArray" name="user-text" placeholder="Vlozte text anylýzy." required></textarea>
             
        <button type="submit" onclick="dlzkaTextu()">Analyzuj text!</button>
        <button type="sifra" onclick="sifraTextu()">Šifrovať text!</button>
        <button id="longestBtn">Najdi najdlhsie slovo</button>
        <input id="longestWrd" type="text" disabled />
                
    <script>

        function dlzkaTextu(){

            // dlzka textu s medzerou a bez medzery

            let textarea = document.getElementById("textArray");
            
            let kolkoZnakovJeVTexte = 0;

            let pocetSlov = 0;

            let pocetCiselVtexte = 0;

            for (let i = 0; i < textarea.value.length; i++){

                if(textarea.value[i] != " "){
                    kolkoZnakovJeVTexte++;
                }

            // počet čísel v textarea
                switch (textarea.value[i]){
                    case "0":
                    case "1":
                    case "2":
                    case "3":
                    case "4":
                    case "5":
                    case "6":
                    case "7":
                    case "8":
                    case "9":
                        pocetCiselVtexte++;
                        break;       
                }
               
            }

            console.log("Kolko cisel je v texte: ", pocetCiselVtexte);
            console.log("Kolko znakov je v texte: ", textarea.value.length)
            console.log("Kolko znakov je v texte bez medzier: ", kolkoZnakovJeVTexte)
          

            let zobrazenie = document.getElementById("zobrazenie");
            let p = document.createElement("p");
            p.innerText = "Dĺžka celého textu je: " + textarea.value.length +"; "+ "Dĺžka textu bez medziert je: " + kolkoZnakovJeVTexte + "; " + "Počet čísel v texte: " +pocetCiselVtexte;
            zobrazenie.append(p);

            //nájsť najdlhšie slovo a aj jeho počet písmen (ak je viac slov s maximálnou dĺžkou, tak všetky)

            var btn = document.getElementById('longestBtn');       // premenn a  id button
            btn.addEventListener('click', function () {
            var txt = document.getElementById('textArray').value;
            var lw = getLongestWord(txt);
            var wrd = document.getElementById('longestWrd');
            wrd.value = lw + " (" + lw.length + ")";
            });

            function getLongestWord(txt) {
                var longestWord = "";
                var words = txt.split(" ");
                for(var i = 0; i < words.length; i++)
                    if(words[i].length > longestWord.length)
                        longestWord = words[i];
                return longestWord;
            }

            
        }
        // sifrovanie {O:0, o:0, I:1, i:1, E:3, e:3, A:4, a:4, S:5, s:5, B:8, b:8}

        function sifraTextu(){

            let textarea = document.getElementById("textArray");
            //let kolkoZnakovJeVTexte = 0;

            for (let y = 0; y < textarea.value.length; y++){

                if(textarea.value[y] == "o"){
                    textarea.value = textarea.value.substr(0,y) + "0" + textarea.value.substr(y + 1);    
                }
                if(textarea.value[y] == "O"){
                    textarea.value = textarea.value.slice(0,y) + "0" + textarea.value.slice(y + 1);
                }
                if(textarea.value[y] == "I"){
                    textarea.value = textarea.value.substr(0,y) + "1" + textarea.value.substr(i + 1);
                }
                if(textarea.value[y] == "i"){
                    textarea.value = textarea.value.substr(0,y) + "1" + textarea.value.substr(y + 1);
                }
                if(textarea.value[y] == "E"){
                    textarea.value = textarea.value.substr(0,y) + "3" + textarea.value.substr(y + 1);
                }
                if(textarea.value[y] == "e"){
                    textarea.value = textarea.value.substr(0,y) + "3" + textarea.value.substr(y + 1);
                }
                if(textarea.value[y] == "A"){
                    textarea.value = textarea.value.substr(0,y) + "4" + textarea.value.substr(y + 1);
                }
                if(textarea.value[y] == "a"){
                    textarea.value = textarea.value.substr(0,y) + "4" + textarea.value.substr(y + 1);
                }
                if(textarea.value[y] == "s"){
                    textarea.value = textarea.value.substr(0,y) + "5" + textarea.value.substr(y + 1);
                }
                if(textarea.value[y] == "S"){
                    textarea.value = textarea.value.substr(0,y) + "5" + textarea.value.substr(y + 1);
                }
                if(textarea.value[y] == "B"){
                    textarea.value = textarea.value.substr(0,y) + "8" + textarea.value.substr(y + 1);
                }
                if(textarea.value[y] == "b"){
                    textarea.value = textarea.value.substr(0,y) + "8" + textarea.value.substr(y + 1);
                }
            }
                
        }


    </script>

   

    
  
    
</body>
</html>
    
</body>
</html>